<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinCal</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans text-gray-800">
    <header class="bg-white shadow sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-gray-900">Finance Tool</h1>
            <nav>
                <ul class="flex space-x-6">
                    <li><a href="#deret-aritmatika" class="hover:text-gray-600">Deret Aritmatika</a></li>
                    <li><a href="#baris-aritmatika" class="hover:text-gray-600">Baris Aritmatika</a></li>
                    <li><a href="#bunga" class="hover:text-gray-600">Bunga</a></li>
                    <li><a href="#roi" class="hover:text-gray-600">ROI</a></li>
                </ul>
            </nav>
        </div>
    </header>    

    <main class="container mx-auto px-4 py-8 space-y-12">
        <!-- Deret Aritmatika -->
        <section id="deret-aritmatika" class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold mb-4">Deret Aritmatika</h2>
            <p class="mb-4">Deret aritmatika adalah urutan angka yang memiliki selisih tetap antar setiap suku. Gunakan kalkulator di bawah untuk menghitung jumlah deret hingga suku ke-n.</p>

            <div class="text-left text-gray-800 mb-8">
                <h3 class="font-semibold text-xl">Rumus Deret Aritmatika:</h3>
                <p class="mb-2">
                    Untuk menghitung jumlah deret hingga suku ke-n, gunakan rumus berikut:
                </p>
                <p class="text-gray-700 font-mono">S<sub>n</sub> = n / 2 * (2a<sub>1</sub> + (n - 1) * d)</p>
                <ul class="list-disc list-inside mb-4">
                    <li><strong>S<sub>n</sub></strong>: Jumlah deret hingga suku ke-n</li>
                    <li><strong>a<sub>1</sub></strong>: Suku pertama</li>
                    <li><strong>n</strong>: Banyaknya Suku</li>
                    <li><strong>d</strong>: Beda antar suku</li>
                </ul>
            </div>

            <!-- Kalkulator Deret Aritmatika -->
            <form id="aritmatika-form" class="space-y-4">
                <div class="flex space-x-4">
                    <div class="flex-1">
                        <label for="a" class="block text-sm font-medium">Suku Pertama (a<sub>1</sub>)</label>
                        <input type="text" id="a" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                    <div class="flex-1">
                        <label for="n" class="block text-sm font-medium">Banyaknya Suku (n)</label>
                        <input type="text" id="n" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                </div>
                <div class="flex space-x-4">
                    <div class="flex-1">
                        <label for="d" class="block text-sm font-medium">Beda Antar Suku (d)</label>
                        <input type="text" id="d" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                </div>
                <button type="button" onclick="calculateArithmeticSequence()" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Hitung</button>
                <div id="arithmetic-result" class="text-gray-700 mt-4"></div>
            </form>
        </section>

        <!-- Baris Aritmatika -->
        <section id="baris-aritmatika" class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold mb-4">Baris Aritmatika</h2>
            <p class="mb-4">Baris aritmatika adalah urutan angka dengan pola penambahan tetap untuk mendapatkan suku berikutnya. Gunakan kalkulator di bawah untuk menghitung suku ke-n.</p>
            <div class="text-left text-gray-800 mb-8">
                <h3 class="font-semibold text-xl">Rumus Baris Aritmatika:</h3>
                <p class="mb-2">
                    Untuk menghitung suku ke-n dalam baris aritmatika, gunakan rumus berikut:
                </p>
                <p class="text-gray-700 font-mono">Un = a + (n - 1) * d</p>
                <ul class="list-disc list-inside mb-4">
                    <li><strong>Un</strong>: Suku ke-n yang dicari</li>
                    <li><strong>a</strong>: Suku pertama</li>
                    <li><strong>n</strong>: Nomor suku yang diinginkan</li>
                    <li><strong>d</strong>: Selisih antar suku</li>
                </ul>
            </div>
            <form id="sequence-form" class="space-y-4">
                <div class="flex space-x-4">
                    <div class="flex-1">
                        <label for="sequence-first-term" class="block text-sm font-medium">Suku Pertama (a)</label>
                        <input type="text" id="sequence-first-term" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                    <div class="flex-1">
                        <label for="sequence-difference" class="block text-sm font-medium">Selisih (d)</label>
                        <input type="text" id="sequence-difference" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                </div>
                <div class="flex space-x-4">
                    <div class="flex-1">
                        <label for="sequence-n" class="block text-sm font-medium">Suku ke-n</label>
                        <input type="text" id="sequence-n" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                </div>
                <button type="button" onclick="calculateArithmeticSeries()" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Hitung</button>
                <div id="sequence-result" class="text-gray-700 mt-4"></div>
            </form>
        </section>

        <!-- Barisan Geometri -->
        <section id="barisan-geometri" class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold mb-4">Barisan Geometri</h2>
            <p class="mb-4">Barisan geometri adalah urutan angka di mana setiap suku didapat dengan mengalikan suku sebelumnya dengan rasio tetap.</p>
            <div class="text-left text-gray-800 mb-8">
                <h3 class="font-semibold text-xl">Rumus Barisan Geometri:</h3>
                <p class="mb-2">Untuk menghitung suku ke-n dalam barisan geometri, gunakan rumus berikut:</p>
                <p class="text-gray-700 font-mono">Un = a × r^(n-1)</p>
                <ul class="list-disc list-inside mb-4">
                    <li><strong>Un</strong>: Suku ke-n yang dicari</li>
                    <li><strong>a</strong>: Suku pertama</li>
                    <li><strong>r</strong>: Rasio antar suku</li>
                    <li><strong>n</strong>: Nomor suku yang diinginkan</li>
                </ul>
            </div>
            <form id="geometric-sequence-form" class="space-y-4">
                <div class="flex space-x-4">
                    <div class="flex-1">
                        <label for="geo-first-term" class="block text-sm font-medium">Suku Pertama (a)</label>
                        <input type="text" id="geo-first-term" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                    <div class="flex-1">
                        <label for="geo-ratio" class="block text-sm font-medium">Rasio (r)</label>
                        <input type="text" id="geo-ratio" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                </div>
                <div class="flex space-x-4">
                    <div class="flex-1">
                        <label for="geo-n" class="block text-sm font-medium">Suku ke-n</label>
                        <input type="text" id="geo-n" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                </div>
                <button type="button" onclick="calculateGeometricSequence()" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Hitung</button>
                <div id="geo-sequence-result" class="text-gray-700 mt-4"></div>
            </form>
        </section>

        <!-- Deret Geometri -->
        <section id="deret-geometri" class="bg-white rounded-lg shadow p-6 mt-6">
            <h2 class="text-xl font-semibold mb-4">Deret Geometri</h2>
            <p class="mb-4">Deret geometri adalah jumlah dari beberapa suku pertama dalam barisan geometri.</p>
            <div class="text-left text-gray-800 mb-8">
                <h3 class="font-semibold text-xl">Rumus Deret Geometri:</h3>
                <p class="mb-2">Untuk menghitung jumlah n suku pertama dalam deret geometri, gunakan rumus berikut:</p>
                <p class="text-gray-700 font-mono">Sn = (a(1 - r^n)) / (1 - r), jika r ≠ 1</p>
                <ul class="list-disc list-inside mb-4">
                    <li><strong>Sn</strong>: Jumlah n suku pertama</li>
                    <li><strong>a</strong>: Suku pertama</li>
                    <li><strong>r</strong>: Rasio antar suku</li>
                    <li><strong>n</strong>: Banyaknya suku</li>
                </ul>
            </div>
            <form id="geometric-series-form" class="space-y-4">
                <div class="flex space-x-4">
                    <div class="flex-1">
                        <label for="geo-series-first-term" class="block text-sm font-medium">Suku Pertama (a)</label>
                        <input type="text" id="geo-series-first-term" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                    <div class="flex-1">
                        <label for="geo-series-ratio" class="block text-sm font-medium">Rasio (r)</label>
                        <input type="text" id="geo-series-ratio" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                </div>
                <div class="flex space-x-4">
                    <div class="flex-1">
                        <label for="geo-series-n" class="block text-sm font-medium">Banyaknya Suku (n)</label>
                        <input type="text" id="geo-series-n" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                </div>
                <button type="button" onclick="calculateGeometricSeries()" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Hitung</button>
                <div id="geo-series-result" class="text-gray-700 mt-4"></div>
            </form>
        </section>


        <!-- Bunga -->
        <section id="bunga" class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold mb-4">Jenis-Jenis Bunga</h2>
            <p class="mb-4">Pelajari berbagai jenis bunga dan lakukan perhitungan sesuai kebutuhan.</p>

            <!-- Bunga Tetap -->
            <h3 class="text-lg font-medium mt-6">Bunga Tetap</h3>
            <p class="mb-4">Bunga tetap adalah bunga yang nilainya tetap selama jangka waktu tertentu.</p>
            <div class="text-left text-gray-800 mb-8">
                <h3 class="font-semibold text-xl">Rumus Bunga Tetap:</h3>
                <p class="mb-2">
                    Untuk menghitung bunga tetap, gunakan rumus berikut:
                </p>
                <p class="text-gray-700 font-mono">I = P × r × t</p>
                <ul class="list-disc list-inside mb-4">
                    <li><strong>I</strong>: Bunga tetap</li>
                    <li><strong>P</strong>: Pokok pinjaman</li>
                    <li><strong>r</strong>: Suku bunga per tahun</li>
                    <li><strong>t</strong>: Waktu dalam tahun</li>
                </ul>
            </div>
            <form id="fixed-interest-form" class="space-y-4">
                <div class="flex space-x-4">
                    <div class="flex-1">
                        <label for="fixed-principal" class="block text-sm font-medium">Pokok Pinjaman (P)</label>
                        <input type="text" id="fixed-principal" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                    <div class="flex-1">
                        <label for="fixed-rate" class="block text-sm font-medium">Suku Bunga (%)</label>
                        <input type="text" id="fixed-rate" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                </div>
                <div class="flex space-x-4">
                    <div class="flex-1">
                        <label for="fixed-time" class="block text-sm font-medium">Waktu (Tahun)</label>
                        <input type="text" id="fixed-time" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                </div>
                <button type="button" onclick="calculateFixedInterest()" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Hitung</button>
                <div id="fixed-result" class="text-gray-700 mt-4"></div>
            </form>

            <!-- Bunga Majemuk -->
            <h3 class="text-lg font-medium mt-6">Bunga Majemuk</h3>
            <p class="mb-4">Bunga majemuk dihitung dari pokok ditambah akumulasi bunga sebelumnya.</p>
            <div class="text-left text-gray-800 mb-8">
                <h3 class="font-semibold text-xl">Rumus Bunga Majemuk:</h3>
                <p class="mb-2">
                    Untuk menghitung bunga majemuk, gunakan rumus berikut:
                </p>
                <p class="text-gray-700 font-mono">A = P × (1 + r)<sup>t</sup></p>
                <ul class="list-disc list-inside mb-4">
                    <li><strong>A</strong>: Jumlah akhir (Pokok + Bunga)</li>
                    <li><strong>P</strong>: Pokok pinjaman</li>
                    <li><strong>r</strong>: Suku bunga per periode</li>
                    <li><strong>t</strong>: Jumlah periode (tahun)</li>
                </ul>
            </div>
            <form id="compound-interest-form" class="space-y-4">
                <div class="flex space-x-4">
                    <div class="flex-1">
                        <label for="compound-principal" class="block text-sm font-medium">Pokok Pinjaman (P)</label>
                        <input type="text" id="compound-principal" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                    <div class="flex-1">
                        <label for="compound-rate" class="block text-sm font-medium">Suku Bunga (%)</label>
                        <input type="text" id="compound-rate" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                </div>
                <div class="flex space-x-4">
                    <div class="flex-1">
                        <label for="compound-time" class="block text-sm font-medium">Waktu (Tahun)</label>
                        <input type="text" id="compound-time" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                </div>
                <button type="button" onclick="calculateCompoundInterest()" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Hitung</button>
                <div id="compound-result" class="text-gray-700 mt-4"></div>
            </form>

            <!-- Bunga Anuitas -->
            <h2 class="text-lg font-semibold mb-4">Bunga Anuitas</h2>
            <p class="mb-4">Bunga anuitas adalah sistem pembayaran pinjaman yang terdiri dari pokok dan bunga dalam jumlah yang tetap setiap periode.</p>

            <div class="space-y-3">
                <label class="block">
                    Pokok Pinjaman (P):
                    <input id="P" type="text" class="w-full border p-2 rounded" required oninput="formatNumber(this)"/>
                </label>
                <label class="block">
                    Suku Bunga Tahunan (%):
                    <input id="r" type="text" class="w-full border p-2 rounded" required oninput="formatNumber(this)"/>
                </label>
                <label class="block">
                    Jangka Waktu (tahun):
                    <input id="JAWA" type="text" class="w-full border p-2 rounded" required oninput="formatNumber(this)"/>
                </label>
                <button onclick="hitungAnuitas()" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
                    Hitung
                </button>
            </div>

            <!-- Tabel Hasil -->
            <div id="hasil" class="mt-6 hidden">
                <h3 class="text-lg font-semibold mb-2">Tabel Pembayaran</h3>
                <table class="w-full border-collapse border border-gray-300">
                    <thead>
                        <tr class="bg-gray-100">
                            <th class="border p-2">Periode</th>
                            <th class="border p-2">Cicilan</th>
                            <th class="border p-2">Bunga</th>
                            <th class="border p-2">Pokok</th>
                            <th class="border p-2">Sisa Hutang</th>
                        </tr>
                    </thead>
                    <tbody id="tabel-body"></tbody>
                </table>
            </div>
        </section>

        <!-- ROI -->
        <section id="roi" class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold mb-4">Return on Investment (ROI)</h2>
            <p class="mb-4">Tentukan pengembalian investasi Anda sebagai persentase.</p>
        
            <!-- Rumus ROI -->
            <div class="text-left text-gray-800 mb-8">
                <h3 class="font-semibold text-xl">Rumus ROI:</h3>
                <p class="mb-2">
                    Untuk menghitung Return on Investment (ROI), gunakan rumus berikut:
                </p>
                <p class="text-gray-700 font-mono">ROI = ((Keuntungan Investasi - Biaya Investasi) / Biaya Investasi) × 100</p>
                <ul class="list-disc list-inside mb-4">
                    <li><strong>Keuntungan Investasi</strong>: Keuntungan yang diperoleh dari investasi</li>
                    <li><strong>Biaya Investasi</strong>: Total biaya yang dikeluarkan untuk investasi</li>
                    <li><strong>ROI</strong>: Persentase pengembalian investasi</li>
                </ul>
            </div>
        
            <form id="roi-form" class="space-y-4">
                <div class="flex space-x-4">
                    <div class="flex-1">
                        <label for="gain" class="block text-sm font-medium">Keuntungan Investasi</label>
                        <input type="text" id="gain" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                    <div class="flex-1">
                        <label for="cost" class="block text-sm font-medium">Biaya Investasi</label>
                        <input type="text" id="cost" class="w-full border rounded p-2" required oninput="formatNumber(this)">
                    </div>
                </div>
                <button type="button" onclick="calculateROI()" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Hitung</button>
                <div id="roi-result" class="text-gray-700 mt-4"></div>
            </form>
        </section>
    </main>

    <footer class="bg-white border-t py-4 text-center">
        <p class="text-sm text-gray-500">&copy; 2025 Finance Tools. All Rights Reserved.</p>
    </footer>

    <script>
        function formatNumber(input) {
            let value = input.value.replace(/\D/g, "");
            let numericValue = Number(value);
            input.value = numericValue.toLocaleString("id-ID");
        }
    
        function validateInput(...values) {
            return values.every(value => !isNaN(value) && value !== '');
        }
    
        function calculateArithmeticSequence() {
            const a = parseFloat(document.getElementById('a').value.replace(/\./g, ""));
            const n = parseInt(document.getElementById('n').value.replace(/\./g, ""));
            const d = parseFloat(document.getElementById('d').value.replace(/\./g, ""));
    
            if (!validateInput(a, n, d)) {
                document.getElementById('arithmetic-result').innerText = "Masukkan angka yang valid!";
                return;
            }
    
            const sum = (n / 2) * (2 * a + (n - 1) * d);
            document.getElementById('arithmetic-result').innerText = `Jumlah deret hingga suku ke-${n}: ${sum.toLocaleString()}`;
        }
    
        function calculateArithmeticSeries() {
            const a = parseFloat(document.getElementById('sequence-first-term').value);
            const d = parseFloat(document.getElementById('sequence-difference').value);
            const n = parseInt(document.getElementById('sequence-n').value);
    
            if (!validateInput(a, d, n)) {
                document.getElementById('sequence-result').innerText = "Masukkan angka yang valid!";
                return;
            }
    
            const nthTerm = a + (n - 1) * d;
            document.getElementById('sequence-result').innerText = `Suku ke-${n}: ${nthTerm.toLocaleString()}`;
        }
    
        function calculateGeometricSequence() {
            const a = parseFloat(document.getElementById('geo-first-term').value);
            const n = parseInt(document.getElementById('geo-n').value);
            const r = parseFloat(document.getElementById('geo-ratio').value);

            if (!validateInput(a, n, r)) {
                document.getElementById('geo-sequence-result').innerText = "Masukkan angka yang valid!";
                return;
            }

            const un = a * Math.pow(r, n - 1);
            document.getElementById('geo-sequence-result').innerText = `Suku ke-${n}: ${un.toLocaleString()}`;
        }

        function calculateGeometricSeries() {
            const a = parseFloat(document.getElementById('geo-series-first-term').value);
            const n = parseInt(document.getElementById('geo-series-n').value);
            const r = parseFloat(document.getElementById('geo-series-ratio').value);

            if (!validateInput(a, n, r)) {
                document.getElementById('geo-series-result').innerText = "Masukkan angka yang valid!";
                return;
            }

            let sum;
            sum = (r === 1) ? a * n : a * (1 - Math.pow(r, n)) / (1 - r);
            document.getElementById('geo-series-result').innerText = `Jumlah deret ke-${n}: ${sum.toLocaleString()}`;
        }
    
        function calculateFixedInterest() {
            const P = parseFloat(document.getElementById('fixed-principal').value);
            const r = parseFloat(document.getElementById('fixed-rate').value) / 100;
            const t = parseFloat(document.getElementById('fixed-time').value);
    
            if (!validateInput(P, r, t)) {
                document.getElementById('fixed-result').innerText = "Masukkan angka yang valid!";
                return;
            }
    
            const interest = P * r * t;
            document.getElementById('fixed-result').innerText = `Bunga tetap: ${interest.toLocaleString()}`;
        }
    
        function hitungAnuitas() {
            let P = parseFloat(document.getElementById("P").value.replace(/,/g, ''));
            let r = parseFloat(document.getElementById("r").value.replace(/,/g, '')) / 100;
            let n = parseInt(document.getElementById("JAWA").value.replace(/,/g, ''));

            console.log("P:", P, "r:", r, "n:", n);

            if (isNaN(P) || isNaN(r) || isNaN(n) || P <= 0 || r <= 0 || n <= 0) {
                alert("Harap masukkan nilai yang valid!");
                return;
            }

            let A = (P * r) / (1 - Math.pow(1 + r, -n));
            let sisaHutang = P;
            let tabelBody = document.getElementById("tabel-body");
            tabelBody.innerHTML = "";

            for (let i = 1; i <= n; i++) {
                let bunga = sisaHutang * r;
                let pokok = A - bunga;
                sisaHutang = Math.max(sisaHutang - pokok, 0);

                let row = `
                    <tr class="text-center">
                        <td class="border p-2">Tahun ${i}</td>
                        <td class="border p-2">Rp. ${Math.round(A).toLocaleString()}</td>
                        <td class="border p-2">Rp. ${Math.round(bunga).toLocaleString()}</td>
                        <td class="border p-2">Rp. ${Math.round(pokok).toLocaleString()}</td>
                        <td class="border p-2">Rp. ${Math.round(sisaHutang).toLocaleString()}</td>
                    </tr>
                `;
                tabelBody.innerHTML += row;
            }

            document.getElementById("hasil").classList.remove("hidden"); // Tampilkan tabel hasil
        }
    
        function calculateCompoundInterest() {
            const P = parseFloat(document.getElementById('compound-principal').value);
            const r = parseFloat(document.getElementById('compound-rate').value) / 100;
            const t = parseFloat(document.getElementById('compound-time').value);
    
            if (!validateInput(P, r, t)) {
                document.getElementById('compound-result').innerText = "Masukkan angka yang valid!";
                return;
            }
    
            const compoundInterest = P * (Math.pow((1 + r), t) - 1);
            document.getElementById('compound-result').innerText = `Bunga majemuk: ${compoundInterest.toLocaleString()}`;
        }
    
        function calculateROI() {
            const gain = parseFloat(document.getElementById('gain').value);
            const cost = parseFloat(document.getElementById('cost').value);
    
            if (!validateInput(gain, cost) || cost === 0) {
                document.getElementById('roi-result').innerText = "Masukkan angka yang valid!";
                return;
            }
    
            const roi = ((gain - cost) / cost) * 100;
            document.getElementById('roi-result').innerText = `ROI: ${roi.toLocaleString()}%`;
        }
    </script>    
</body>
</html>